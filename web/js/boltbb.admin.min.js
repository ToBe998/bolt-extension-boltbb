Object.extend=function(n,e){var t=function(){};e.constructor!==Object&&(t=e.constructor),t.prototype=new n;for(var o in e)"constructor"!=o&&(t.prototype[o]=e[o]);return t};var delay=function(){var n=0;return function(e,t){clearTimeout(n),n=setTimeout(e,t)}}(),BoltBBAdmin=Object.extend(Object,{selector:".boltbb-bolt-container",messages:{},paths:{},constructor:function(){jQuery(this.selector).on("change",this,this.events.change),jQuery(this.selector).on("click",this,this.events.click),jQuery(document).ajaxStart(function(){}).ajaxSuccess(function(){clearInterval(active_interval)})},find:function(n){return jQuery(this.selector).find(n)},setMessage:function(n,e){this.messages[n]=e},setPath:function(n,e){this.paths[n]=e},doSync:function(){console.debug("Running forum DB table sync"),$.get(baseurl+"/ajax?task=forumSync",function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")})},doContenttypes:function(){console.debug("Setting up BoltBB contenttypes"),$.get(baseurl+"/ajax?task=forumContenttypes",function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")})},doOpen:function(){var n=new Array;$.each($("input[name='form[forums][]']:checked"),function(){n.push($(this).val())}),console.debug("Opening forums: "+n),$.post(baseurl+"/ajax?task=forumOpen",{forums:n},function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")})},doClose:function(){var n=new Array;$.each($("input[name='form[forums][]']:checked"),function(){n.push($(this).val())}),console.debug("Closing forums: "+n),$.post(baseurl+"/ajax?task=forumClose",{forums:n},function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")})},doRepairRelation:function(){console.debug("Repairing forum/reply relations"),$.post(baseurl+"/ajax?task=repairRelation","",function(){}).done(function(){alert("Repair done"),console.debug(data)}).fail(function(){alert("There was an error")})},doTestNotify:function(){console.debug("Sending test notification"),$.post(baseurl+"/ajax?task=testNotify","",function(){}).done(function(){alert("Notification sent"),console.debug(data)}).fail(function(){alert("There was an error")})},events:{change:function(n){n.data},click:function(n){var e=n.data;switch(jQuery(n.target).data("action")){case"boltbb-forum-sync":e.doSync(n.originalEvent);break;case"boltbb-forum-contenttypes":e.doContenttypes(n.originalEvent);break;case"boltbb-forum-open":e.doOpen(n.originalEvent);break;case"boltbb-forum-close":e.doClose(n.originalEvent);break;case"boltbb-repair-relation":e.doRepairRelation(n.originalEvent);break;case"boltbb-test-notify":e.doTestNotify(n.originalEvent)}}}});
//# sourceMappingURL=boltbb.admin.min.map