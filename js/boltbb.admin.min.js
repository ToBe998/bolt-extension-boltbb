Object.extend=function(a,b){var c=function(){};b.constructor!==Object&&(c=b.constructor),c.prototype=new a;for(var d in b)"constructor"!=d&&(c.prototype[d]=b[d]);return c};var delay=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}(),BoltBBAdmin=Object.extend(Object,{selector:".boltbb-bolt-container",messages:{},paths:{},constructor:function(){jQuery(this.selector).on("change",this,this.events.change),jQuery(this.selector).on("click",this,this.events.click),jQuery(document).ajaxStart(function(){active_interval=setInterval(function(){active_console.append(".")},1e3)}).ajaxSuccess(function(){clearInterval(active_interval)})},find:function(a){return jQuery(this.selector).find(a)},setMessage:function(a,b){this.messages[a]=b},setPath:function(a,b){this.paths[a]=b},doSync:function(){console.debug("Running forum DB table sync"),$.get(baseurl+"/ajax?task=forumSync",function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")})},doContenttypes:function(){console.debug("Setting up BoltBB contenttypes"),$.get(baseurl+"/ajax?task=forumContenttypes",function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")}).always(function(){})},doOpen:function(){var a=new Array;$.each($("input[name='form[forums][]']:checked"),function(){a.push($(this).val())}),console.debug("Opening forums: "+a),$.post(baseurl+"/ajax?task=forumOpen",{forums:a},function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")}).always(function(){})},doClose:function(){var a=new Array;$.each($("input[name='form[forums][]']:checked"),function(){a.push($(this).val())}),console.debug("Closing forums: "+a),$.post(baseurl+"/ajax?task=forumClose",{forums:a},function(){}).done(function(){location.reload(!0)}).fail(function(){alert("There was an error")}).always(function(){})},doRepairRelation:function(){console.debug("Repairing forum/reply relations"),$.post(baseurl+"/ajax?task=repairRelation","",function(){}).done(function(){alert("Repair done"),console.debug(data)}).fail(function(){alert("There was an error")}).always(function(){})},doTestNotify:function(){console.debug("Sending test notification"),$.post(baseurl+"/ajax?task=testNotify","",function(){}).done(function(){alert("Notification sent"),console.debug(data)}).fail(function(){alert("There was an error")}).always(function(){})},events:{change:function(a){a.data},click:function(a){var b=a.data;switch(jQuery(a.target).data("action")){case"boltbb-forum-sync":b.doSync(a.originalEvent);break;case"boltbb-forum-contenttypes":b.doContenttypes(a.originalEvent);break;case"boltbb-forum-open":b.doOpen(a.originalEvent);break;case"boltbb-forum-close":b.doClose(a.originalEvent);break;case"boltbb-repair-relation":b.doRepairRelation(a.originalEvent);break;case"boltbb-test-notify":b.doTestNotify(a.originalEvent)}}}});
//# sourceMappingURL=boltbb.admin.min.map